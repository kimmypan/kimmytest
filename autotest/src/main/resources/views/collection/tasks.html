<!DOCTYPE html>
<html>
<head>
	<title>菜单管理</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<link rel="stylesheet" href="../../css/bootstrap.min.css">
	<link rel="stylesheet" href="../../css/font-awesome.min.css">
	<link rel="stylesheet" href="../../css/AdminLTE.min.css">
	<!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="../../css/all-skins.min.css">
	<link rel="stylesheet" href="../../plugins/jqgrid/ui.jqgrid-bootstrap.css">
	<link rel="stylesheet" href="../../plugins/ztree/css/metroStyle/metroStyle.css">
	<link rel="stylesheet" href="../../css/bootstrap-table.min.css">
	<link rel="stylesheet" href="../../css/main.css">

	<script src="../../libs/jquery.min.js"></script>
	<script src="../../plugins/layer/layer.js"></script>
	<script src="../../libs/bootstrap.min.js"></script>
	<script src="../../libs/vue.min.js"></script>
	<script src="../../libs/bootstrap-table.min.js"></script>
	<script src="../../plugins/jqgrid/grid.locale-cn.js"></script>
	<script src="../../plugins/jqgrid/jquery.jqGrid.min.js"></script>
	<script src="../../plugins/ztree/jquery.ztree.all.min.js"></script>
	<script src="../../js/common.js"></script>
	<script src="../../plugins/datepicker/bootstrap-datepicker.js"></script>
	<script src="../../plugins/datepicker/bootstrap-datepicker.zh-CN.js"></script>
</head>
<style>
	div.form-group {margin:5px;}
	.layui-layer-my[type=dialog]{min-width:280px}
	.layui-layer-my .layui-layer-title{background:#4476A7;color:#fff;border:none}
	.layui-layer-my .layui-layer-btn{padding:10px;text-align:right;border-top:1px solid #E9E7E7}
	.layui-layer-my .layui-layer-btn a{background:#4476A7;border:none}
	.layui-layer-my .layui-layer-btn .layui-layer-btn1{background:#C9C5C5}
</style>
<body>

<div id="rrapp" v-cloak>
	<!-- 列表 START -->
	<div v-show="showList" id="ShowNotTraferDiv">
		<div class="nav-tabs-custom">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#">工作任务</a></li>
				<li class=""><a href="details.html">分配详情</a></li>
			</ul>
			<!-- /.tab-content -->
		</div>

		<div class="btn-group">
			<button id="notAssigned" type="button" class="btn btn-default"  @click="toTasksNoAllot"><b>未分配（<span id="notAllotCount"></span>）</b></button>
			<button id="notHandled" type="button" class="btn btn-primary" ><b>已分配未处理（<span id="allotedCount"></span>）</b></button>
		</div>
		<div class="container-fluid">
			<form class="form-inline">
				<div class="row">
					<div class="col-md-3">
						<div style="margin-bottom: 10px;">
							<label for="userName" style="margin-left: 14px">客户姓名:</label>
							<input id="userName" type="text" class="form-control" v-model="q.userName">
						</div>
						<div style="margin-bottom: 10px;">
							<label for="mobile" style="margin-left: 14px">手机号码:</label>
							<input id="mobile" class="form-control" v-model="q.mobile"/>
						</div>
						<div style="margin-bottom: 10px;">
							<label for="trackerName">当前跟踪人:</label>
							<input id="trackerName" class="form-control" v-model="q.trackerName"/>
						</div>
					</div>
					<div class="col-md-3">
						<div style="margin-bottom: 10px;">
							<label for="repayStatue">还款状态:</label>
							<select id="repayStatue" class="form-control" v-model="q.repayStatue">
								<option value="">=全部=</option>
								<option value="7">已逾期</option>
								<option value="8">严重逾期</option>
							</select>
						</div>
						<div style="margin-bottom: 10px;">
							<label for="overdueMinDay">逾期天数:</label>
							<input id="overdueMinDay" maxlength="5" class="form-control" style="width: 5em" v-model="q.overdueMinDay"/>~
							<input id="overdueMaxDay" maxlength="5" class="form-control" style="width: 5em" v-model="q.overdueMaxDay"/> 天
						</div>
						<div style="margin-bottom: 10px;">
							<a class="btn btn-primary" @click="query" style="margin-right: 30px">查 询</a>
							<a class="btn btn-primary" @click="resetBTIds">重 置</a>
						</div>
					</div>
					<div class="col-md-4">
						<div style="margin-bottom: 10px;">
							<label for="repayBDate">还款时间:</label>
							<div class="input-daterange input-group" >
								<input id="repayBDate" type="text" style="width: 10em" class="form-control" readonly="true"/>
								<span class="input-group-addon">至</span>
								<input id="repayEDate" type="text" style="width: 10em" class="form-control" readonly="true"/>
							</div>
						</div>
						<div style="margin-bottom: 10px;">
							<label for="allocateSDate">分配时间:</label>
							<div class="input-daterange input-group" >
								<input id="allocateSDate" type="text" style="width: 10em" class="form-control" readonly="true"/>
								<span class="input-group-addon">至</span>
								<input id="allocateEDate" type="text" style="width: 10em" class="form-control" readonly="true"/>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>

		<table id="jqGrid"></table>
		<div id="jqGridPager"></div>

		<!--<div >
			<a href="javascript:;" class="btn btn-primary" @click="traferLayer" style="margin: 5px 5px 0px 0px;">移 交</a>
		</div>-->

		<div class="panel panel-default" style="margin-top: 5px;"  >
			<div class="panel-heading">
				已选择客户
			</div>
			<div class="panel-body" style="word-wrap:break-word;">
				<span id="selectSpan"></span>
				<a href="javascript:;" @click="showSelectedNames" id="showMoreA" style="display: none;">更多</a>
			</div>
		</div>
	</div>
	<!-- 列表 END -->

	<!-- 移交 START-->
	<div style="display: none" id="traferDiv">
		<div class="grid-btn form-inline">
			<div class="form-group ">
				<label class="control-label">姓名：</label>
				<input type="text" class="form-control" v-model="traferQ.nickName" >
			</div>
			<div class="form-group ">
				<a class="btn btn-primary" @click="traferQuery" >查 询</a>
				<span>已选择 <span style="color: red">{{selectedNumber}}</span> 条已分配未处理工作记录</span>
			</div>
		</div>
		<table id="trafer" ></table>
		<div id="traferPager"></div>
	</div>
	<!-- 移交 END -->

	<!-- 详情 START-->
	<div v-show="!showList"></div>
	<!-- 详情 END -->
</div>
</div>
<div id="selectedNames" style="display: none;">
	<div class="form-group" id="selectedNamesCnt" style="word-wrap:break-word;">

	</div>
</div>

<script src="../../js/inputValidate.js"></script>
<script src="../../js/collection/cellColor.js"></script>
<script src="../../js/collection/tasks.js"></script>
<script>
    $('#repayBDate').datepicker({
        language:  'zh-CN',
        todayBtn:  'linked',
        autoclose: true,
        todayHighlight: 1,
        startView: 0,
        format:'yyyy-mm-dd',
        clearBtn:true,
        forceParse:true
    }).on('changeDate',function(e){
        var startTime = e.date;
        $('#repayEDate').datepicker('setStartDate',startTime);
    });

    $('#repayEDate').datepicker({
        language:  'zh-CN',
        todayBtn:  'linked',
        autoclose: true,
        todayHighlight: 1,
        startView: 0,
        format:'yyyy-mm-dd',
        clearBtn:true,
        forceParse:true
    }).on('changeDate',function(e){
        var endTime = e.date;
        $('#repayBDate').datepicker('setEndDate',endTime);
    });

    $('#allocateSDate').datepicker({
        language:  'zh-CN',
        todayBtn:  'linked',
        autoclose: true,
        todayHighlight: 1,
        startView: 0,
        format:'yyyy-mm-dd',
        clearBtn:true,
        forceParse:true
    }).on('changeDate',function(e){
        var startTime = e.date;
        $('#allocateEDate').datepicker('setStartDate',startTime);
    });

    $('#allocateEDate').datepicker({
        language:  'zh-CN',
        todayBtn:  'linked',
        autoclose: true,
        todayHighlight: 1,
        startView: 0,
        format:'yyyy-mm-dd',
        clearBtn:true,
        forceParse:true
    }).on('changeDate',function(e){
        var endTime = e.date;
        $('#allocateSDate').datepicker('setEndDate',endTime);
    });
</script>
</body>
</html>