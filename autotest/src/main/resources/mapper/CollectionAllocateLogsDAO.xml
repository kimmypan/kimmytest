<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.tdw.dao.CollectionAllocateLogsDAO">

    <insert id="insertPatchTransferLog">
        INSERT INTO
        collection_allocate_logs(borrow_id, old_tracker_id, new_tracker_id, operator_id, operate_type)
        VALUES
        <foreach collection="bt" item="item" separator=",">
            (#{item.borrowId}, #{item.trackerId}, #{trackerId}, #{operatorId}, #{operateType})
        </foreach>

    </insert>

    <insert id="save" parameterType="cn.tdw.domain.CollectionAllocateLogs" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO
        collection_allocate_logs(borrow_id, old_tracker_id, new_tracker_id, operator_id, operate_type,
         <if test="remark != null">remark, </if>
         <if test="createTime != null">create_time, </if>
        is_deleted)
        VALUES (#{borrowId}, #{oldTrackerId}, #{newTrackerId}, #{operatorId}, #{operateType},
        <if test="remark != null">#{remark}, </if>
        <if test="createTime != null">#{createTime}, </if>
        #{isDeleted});
    </insert>

</mapper>