<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.tdw.dao.PhoneContactsDAO">
   <!-- <resultMap id="phoneContact" type="cn.tdw.domain.PhoneContacts">
        <id column="id" property="id"/>
        <result column="userId"  property="userId"/>
        <result column="phoneContactsId" property="phoneContactsId"/>
        <result column="callRecordsAnalyzeId" property="callRecordsAnalyzeId"/>
        <result column="createDate" property="createDate"/>
    </resultMap>-->
    <sql id="phone_contact">
       userId,phoneContactsPath,callRecordsAnalyzePath
	</sql>
    <select id="findContact" resultType="cn.tdw.domain.PhoneContacts"  parameterType="java.lang.String" >
        SELECT  <include refid="phone_contact"/>
        FROM PhoneContacts WHERE userId=#{userId}
        AND phoneContactsPath IS NOT NULL
        ORDER BY createDate DESC
        limit 1
    </select>




</mapper>